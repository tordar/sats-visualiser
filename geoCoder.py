import geopandas
import geopy
import json
import time

#locator = geopy.Nominatim(user_agent="geoCoderr")
#location = locator.geocode("Gamle Ringeriksvei 34C, 1357 Bekkestua Oslo")
f = open("data-centers.json")
data = json.loads(f.read())

#print(location.latitude, location.longitude)

# with open('geolocations.json', 'w', encoding='utf-8') as f:
#     for i in data:
#         time.sleep(1)
#         print(i["CENTER_ADDRESS"])
#         geocodeAddress = locator.geocode(i["CENTER_ADDRESS"])
#         if geocodeAddress is None:
#             json.dump(i["CENTER_ADDRESS"], f)
#         else:
#             json.dump((locator.geocode(i["CENTER_ADDRESS"]).latitude, locator.geocode(i["CENTER_ADDRESS"]).longitude),
#                       f)
            #print(geocodeAddress.latitude, geocodeAddress.longitude)
        #time.sleep(1)
        #

        #print(locator.geocode(i["CENTER_ADDRESS"]).latitude, locator.geocode(i["CENTER_ADDRESS"]).longitude)

locations = [[59.914755, 10.74325],[58.1471853, 8.0065047],[59.8343746, 10.4382552],[59.9180846, 10.5859702],[59.917283, 10.588554],[60.385452, 5.332137],[59.8770171, 10.5006932],[59.924464, 10.732327],[59.907832, 10.75894],[58.72989760758831, 5.64905774202244],[59.916018, 10.635408],[59.928767, 10.778181],[59.92858439797687, 10.710923714952452],[60.3845588, 5.3102056],[60.3759005, 5.338398],[59.2561958, 11.001143],[59.74118926421503, 10.221976821146992],[59.1403861, 9.653191],[59.926947, 10.728609],[59.893834, 10.618665],[58.893786, 5.707489],[59.205471, 10.938586],[58.853919, 5.7515222],[59.923566, 10.792788],[59.913729, 10.8440509],[58.9698659, 5.7283009],[59.909679600000004, 10.724383775000012],[59.9273658, 10.7202048],[58.950003, 5.742168],[58.9149074, 5.7293859],[59.925582, 10.6746362],[60.1451872, 10.2497006],[59.928304, 10.753731],[60.15173753913483, 11.184779311927096],[59.952686, 10.868443],[59.910615, 10.788155],[59.87859771054082, 10.807872553709451],[59.19945956227943, 9.613079092292582],[60.2964497, 5.2662014],[59.8108202, 10.8019743],[58.14762404233783, 7.992047917397235],[60.2968652, 5.3311546],[59.87304966863, 10.811853708636226],[69.6714894, 18.9198926],[61.11451, 10.452164],[59.9524262, 11.0446053],[59.943118622897636, 10.834697922285994],[58.15142899803256, 8.02581525352325],[58.9522366, 5.6795349],[59.927419, 10.961879],[59.91469, 10.731137],[60.3116957, 5.354961551072012],[59.941488, 10.671457],[59.9492116, 10.7693084],[60.348956, 5.291796],[59.1407889, 9.6397126],[59.1377572, 9.6503931],[59.928583, 10.759722],[59.8923825, 10.8050359],[59.9461478, 10.645639],[59.9461478, 10.645639],[59.936445, 10.754143],[58.8504081, 5.7352032],[59.886853, 10.5211355],[60.4128258, 5.3207345],[59.283445372293684, 11.10706420771993],[59.918858, 10.760316],[59.91985897350488, 10.685904561976075],[59.777438370098295, 10.486139388004078],[59.914494225342175, 10.719040498167585],[59.912796, 10.755542],[58.9690068, 5.7569934],[59.946752, 10.776548],[59.73156373766225, 10.213310439440889],[58.9840002, 5.6911066],[58.8697431, 5.7172883],[69.64923264892711, 18.958554392012214],[59.2892918, 11.0862643],[59.949706, 10.735755],[60.3632202, 5.2336282],[59.9421842, 10.7041009],[58.1271435, 7.9639635],[60.36134, 5.351505],[60.46912682844367, 5.322201755789519],[59.75314389855436, 10.125566624834416]]
#print(type(locations))
#for i in range(80):
 #   print(locations[i])

with open("data-centers.json", 'r+', encoding='utf-8') as file:
    # First we load existing data into a dict.
    file_data = json.load(file)
    add = 0
    # print(file_data)
    for i in file_data:
        print(locations[1])
        i["GEOLOCATION"] = locations[add]
        add = add + 1
        # Sets file's current position at offset.
        file.seek(0)
        # convert back to json.
        json.dump(file_data, file, indent=4)


